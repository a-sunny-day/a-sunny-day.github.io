(this["webpackJsonpreact-pwa"]=this["webpackJsonpreact-pwa"]||[]).push([[0],{31:function(e,n,t){e.exports=t(45)},40:function(e,n,t){},41:function(e,n,t){},43:function(e,n,t){},44:function(e,n,t){},45:function(e,n,t){"use strict";t.r(n);var a=t(0),o=t.n(a),i=t(17),c=t.n(i),s=t(15),r=t(26),l=t(27);function u(e){return{type:"IS_DURING_MEETING",flag:e}}var m={isDuringMeeting:!1,userInfo:{valid:!1,token:null,userName:""},lastJoinName:"",meetingHistoryList:[]},g=Object(l.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_USERINFO":e.userInfo=n.userInfo;break;case"IS_DURING_MEETING":e.isDuringMeeting=n.flag;break;default:return e}})),d=Object(s.d)(g,Object(s.c)(Object(s.a)(r.a),window.devToolsExtension?window.devToolsExtension():function(e){return e})),h=t(6),f=t(9),p=(t(40),t(41),t(2)),v=t(30);function b(e){e.children;var n=Object(v.a)(e,["children"]);return o.a.createElement(p.b,Object.assign({},n,{render:function(e){var n=e.location;return o.a.createElement(p.a,{to:{pathname:"/signin",search:"from=".concat(n.pathname),state:{from:n}}})}}))}var w=t(23),E=t(10),k=t(11);function j(e){var n=(e=(e+="").replace(/-/g,"").split("")).length;return n<=3?e=e:n<=6?e.splice(3,0,"-"):n<=10?(e.splice(3,0,"-"),e.splice(7,0,"-")):n<=11&&(e.splice(3,0,"-"),e.splice(8,0,"-")),e.join("")}function N(){return window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone}var C=function(){function e(n){Object(E.a)(this,e),this.instance=null,this.timerHandler=null,this.timerInterval=5e3,this.openedBrowsingContext=null,this.hasReceiveStartMsg=!1,this.windowName="WebCliet_Meeting",this.windowFeatures="top=20,left=20,titlebar=0,toolbar=0,location=0,status=0,menubar=0"}return Object(k.a)(e,[{key:"startMeeting",value:function(e){var n=N()?this.windowFeatures:"";null==this.openedBrowsingContext||this.openedBrowsingContext.closed?(this.openedBrowsingContext=window.open("https://zoom.us/wc/**********/start",this.windowName,n),this.startListen()):this.openedBrowsingContext.focus(),null!=this.openedBrowsingContext&&d.dispatch(u(!0))}},{key:"_joinMeeting",value:function(e){var n="https://zoom.us/wc/".concat(e.meetingId,"/join?name=").concat(e.joinName),t=N()?this.windowFeatures:"";null==this.openedBrowsingContext||this.openedBrowsingContext.closed||!/wc\/\d{8,11}\/(join|start)/.test(this.openedBrowsingContext.location.pathname)?(this.openedBrowsingContext=window.open(n,this.windowName,t),this.startListen()):this.openedBrowsingContext.focus(),null!=this.openedBrowsingContext&&d.dispatch(u(!0))}},{key:"joinMeeting",value:function(e){var n="https://zoom.us/wc/".concat(e.meetingId,"/join?name=").concat(e.joinName);N()?window.location.href=n:window.open(n,"_blank")}},{key:"meetingEnded",value:function(){d.dispatch(u(!1)),this.openedBrowsingContext=null}},{key:"handleMessage",value:function(e){console.log("from opened window message: ",e.data,e.origin)}},{key:"startListen",value:function(){window.addEventListener("message",this.handleMessage)}},{key:"endListen",value:function(){}}],[{key:"getInstance",value:function(){return this.instance?this.instance:new e}}]),e}(),y=t(8),M=t(13),I=t(14),O=(t(43),t(29)),x=t.n(O),S=function(e){Object(I.a)(t,e);var n=Object(M.a)(t);function t(e){var a;return Object(E.a)(this,t),(a=n.call(this,e)).state={text:"",checked:!0},a.onChange=a.onChange.bind(Object(y.a)(a)),a}return Object(k.a)(t,[{key:"onChange",value:function(e){console.log(e.target.checked),this.setState({checked:e.target.checked})}},{key:"render",value:function(){return o.a.createElement("label",{className:x()("zm-checkbox-container",this.props.containerClass)},this.props.text,o.a.createElement("input",{type:"checkbox",checked:this.state.checked,onChange:this.onChange}),o.a.createElement("span",{className:"check-mark"}))}}]),t}(o.a.Component);var B=Object(p.g)(Object(h.b)(null,(function(e,n){return{onCancel:function(){var e=n.history;1===e.length?e.push({pathname:"/"}):e.goBack()},joinMeeting:function(e,n){C.getInstance().joinMeeting({meetingId:e,joinName:n})}}}))((function(e){var n=e.onCancel,t=e.joinMeeting,i=Object(a.useState)(""),c=Object(w.a)(i,2),s=c[0],r=c[1],l=Object(a.useState)(""),u=Object(w.a)(l,2),m=u[0],g=u[1],d=/^\d{9,11}$/.test(s),h=m.trim().length>0&&m.trim().length<=70,f=function(){if(d&&h){var e=s.replace(/-/g,"");console.group("join meeting"),console.log("meeting id is %s",s),console.log("join name is %s",m),console.groupEnd(),t(e,m)}},p=function(e){"Enter"===e.key&&f()};return o.a.createElement("div",{className:"join"},o.a.createElement("h2",{className:"join-header"},"Join Meeting"),o.a.createElement("div",{className:"join-form"},o.a.createElement("input",{type:"text",className:"join-meetingId",placeholder:"Meeting ID",value:j(s),onChange:function(e){var n=e.target.value.toLowerCase();n=n.replace(/[-\s]/g,""),/^\d{0,11}$/.test(n)&&r(n)},onKeyDown:p}),o.a.createElement("input",{type:"text",className:"join-joinName",placeholder:"Screen Name",value:m,onChange:function(e){var n=e.target.value;n.length<=70&&g(n)},onKeyDown:p}),o.a.createElement(S,{containerClass:"join-connect-audio",text:"Remember my name for future meetings",checked:!1,onChange:function(e){console.log(e)}}),o.a.createElement(S,{containerClass:"join-connect-audio",text:"Do not connect to audio",checked:!1,onChange:function(e){console.log(e)}}),o.a.createElement(S,{containerClass:"join-off-video",text:"Turn off my video",checked:!1,onChange:function(e){console.log(e)}})),o.a.createElement("footer",null,o.a.createElement("button",{disabled:!(d&&h),className:"btn-join",onClick:f},"Join"),o.a.createElement("button",{className:"btn-cancel",onClick:n},"Cancel")))})));var T=Object(p.g)(Object(h.b)((function(e){return{userInfo:e.userInfo}}),(function(e,n){return{goToJoinMeeting:function(){n.history.push({pathname:"/join"})},goToSignIn:function(){},goToStartMeeting:function(){n.history.push({pathname:"/start"})}}}))((function(e){return o.a.createElement("div",{className:"home"},e.userInfo.valid?o.a.createElement("div",{className:"header"},e.userInfo.userName):null,o.a.createElement("div",{className:"home-logo"}),o.a.createElement("div",{className:"btns-home"},e.userInfo.valid&&o.a.createElement("button",{className:"btn btn-block btn-home-start",onClick:e.goToStartMeeting},"Start Meeting"),o.a.createElement("button",{className:"btn btn-block btn-home-join",onClick:e.goToJoinMeeting},"Join Meeting"),!e.userInfo.valid&&o.a.createElement("button",{className:"btn btn-block btn-home-signin",onClick:e.goToSignIn},"Sign In")))}))),L=function(e){Object(I.a)(t,e);var n=Object(M.a)(t);function t(e){var a;return Object(E.a)(this,t),(a=n.call(this,e)).state={frameHeight:450},a.frameRef=o.a.createRef(),a.onMessage=a.onMessage.bind(Object(y.a)(a)),a}return Object(k.a)(t,[{key:"componentDidMount",value:function(){var e=this,n=this.frameRef.current;n.addEventListener("message",this.onMessage),n.addEventListener("load",(function(n){e.setState({frameHeight:n.target.contentDocument.documentElement.scrollHeight})}))}},{key:"componentWillUnmount",value:function(){this.frameRef.current.removeEventListener("message",this.onMessage)}},{key:"onMessage",value:function(e){console.log("signin frame message: ",e)}},{key:"render",value:function(){return o.a.createElement("div",{className:"signin"},o.a.createElement("h2",{className:"signin-header"},"Sign In"),o.a.createElement("div",{className:"signin-body",style:{height:this.state.frameHeight+"px"}},o.a.createElement("iframe",{title:"siginin-web",ref:this.frameRef,name:"siginin-web",className:"signin-iframe",src:"https://zoomdev.us/signin"})),o.a.createElement("footer",{className:"signin-footer"},o.a.createElement("span",{className:"signin-back",onClick:this.props.back},"<\xa0Back"),o.a.createElement("a",{href:"https://zoom.com/signin",className:"signin-signup",target:"_blank",rel:"noopener noreferrer"},"Sign Up Free")))}}]),t}(o.a.Component),W=Object(p.g)(Object(h.b)((function(e){return{isLogging:e.isLogging}}),(function(e,n){return{back:function(){var e=n.history;1===e.length?e.push({pathname:"/"}):e.goBack()}}}))(L));var D=Object(p.g)(Object(h.b)(null,(function(e,n){return{goBack:function(){var e=n.history;1===e.length?e.push({pathname:"/"}):e.goBack()}}}))((function(e){return o.a.createElement("div",{className:"start"},o.a.createElement("div",{className:"start-header"},"Start Meeting"),o.a.createElement("div",{className:"btns btns-start"},o.a.createElement("button",{className:"btn btn-block btn-start-with-video"},"Start With Video"),o.a.createElement("button",{className:"btn btn-block btn-start-without-video",onClick:null},"Start Without Video"),o.a.createElement("div",{className:"start-checkbox"},o.a.createElement(S,{text:"Use My Personal Meeting ID (PMI) ***-****-****",checked:!0,containerClass:"start-use-pmi",onChange:function(e){console.log(e.target)}}))),o.a.createElement("div",{className:"start-footer"},o.a.createElement("span",{href:"#",className:"start-cancel",onClick:e.goBack},"Cancel")))})));t(44),o.a.Component;var R=Object(h.b)((function(e){return e}))((function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"app"},o.a.createElement(p.d,null,o.a.createElement(p.b,{path:"/signin"},o.a.createElement(W,null)),o.a.createElement(p.b,{path:"/join"},o.a.createElement(B,null)),o.a.createElement(b,{path:"/start"},o.a.createElement(D,null)),o.a.createElement(p.b,{path:"/"},o.a.createElement(T,null)))))})),U=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function _(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?n&&n.onUpdate&&n.onUpdate(e):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}(window.matchMedia("(display-mode: standalone)").matches||!0===window.navigator.standalone)&&window.resizeTo(600,370),c.a.render(o.a.createElement(f.a,null,o.a.createElement(h.a,{store:d},o.a.createElement(o.a.StrictMode,null,o.a.createElement(R,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.navigator.serviceWorker.addEventListener("message",(function(e){e.data&&"SW.UPDATE"===e.data.type&&(console.log("service worker has updated and user confirmed to reload the page; to reload."),window.location.reload())})),window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");U?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):_(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker.")}))):_(n,e)}))}}({onUpdate:function(e){var n=window.confirm("New content is avaliable, would you like to reload the page to use the new contents?");console.log("user action: ",n),n&&(console.log("user confirmed to reload"),e.waiting&&e.waiting.postMessage({type:"SW.SKIP_WAITING"}))}})}},[[31,1,2]]]);
//# sourceMappingURL=main.98d010dd.chunk.js.map